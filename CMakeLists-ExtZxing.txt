INCLUDE(ExternalProject)

ExternalProject_Add(
  zxing-cpp
  # updated form with cmake
  GIT_REPOSITORY "https://github.com/nu-book/zxing-cpp.git"
  GIT_SHALLOW 1
  GIT_TAG "master"
  PREFIX 3rdparty

  INSTALL_COMMAND "" # don't install

  SOURCE_DIR "${CMAKE_SOURCE_DIR}/3rdparty/zxing-cpp"
  CONFIGURE_COMMAND ${CMAKE_COMMAND} <SOURCE_DIR>/core
)

SET(ZXING_INCLUDE_DIR "${CMAKE_SOURCE_DIR}/3rdparty/zxing-cpp/core/src/")
SET(ZXING_LIB_DIR "${CMAKE_CURRENT_BINARY_DIR}/3rdparty/src/zxing-cpp-build/")

ADD_LIBRARY(zxing STATIC IMPORTED)
SET_TARGET_PROPERTIES(zxing PROPERTIES IMPORTED_LOCATION "${ZXING_LIB_DIR}/libZXingCore.a")

ExternalProject_Add(
  spdlog

  GIT_REPOSITORY "https://github.com/gabime/spdlog.git"
  GIT_SHALLOW 1
 
  PREFIX 3rdparty

  SOURCE_DIR "${CMAKE_SOURCE_DIR}/3rdparty/spdlog"
  INSTALL_COMMAND ""
  BUILD_COMMAND ""
  CONFIGURE_COMMAND ""
  UPDATE_COMMAND ""
)

SET(SPDLOG_INCLUDE_DIR "${CMAKE_SOURCE_DIR}/3rdparty/spdlog/include")

